{% extends "survive/layout.html" %}
{% block title %}
    Survivor Overview
{% endblock %}
{% block navbar_profile %}<a href="{% url 'profile' %}" class="navbar_current">Profile</a>{% endblock %}
{% block back_to_home %}{% endblock %}
{% block season_selector %}{% endblock %}
{% block content %}
    {% if request.user.is_authenticated %}
        <table class="table_center">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            </thead>
            <tr>
                <td>{{ request.user.username }}</td>
                <td>{{ request.user.first_name }}</td>
                <td>{{ request.user.last_name }}</td>
            </tr>
        </table>
        <br />
        {% with teams=request.user.team_set.all %}
            {% if teams %}
                <h2>Associated Teams</h2>
                <table class="table_center">
                    <tr>
                        <th>Team Name</th>
                        <th>Captain Name</th>
                        <th>Season</th>
                    </tr>
                    {% for team in teams %}
                        <tr>
                            <td>{{team.name}}</td>
                            <td>{{team.captain}}</td>
                            <td>{{team.season.name}}</td>
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}
        {% endwith %}
    {% else %}
        No profile for an inauthenticated user.
    {% endif %}
{% endblock %}